{"ast":null,"code":"import jsTPS_Transaction from \"../common/jsTPS.js\";\n/**\n * MoveSong_Transaction\n * \n * This class represents a transaction that works with drag\n * and drop. It will be managed by the transaction stack.\n * \n */\n\nexport default class MoveSong_Transaction extends jsTPS_Transaction {\n  constructor(store, dragIndex, dropIndex) {\n    super();\n    this.store = store;\n    this.dragId = dragIndex;\n    this.dropId = dropIndex;\n  }\n\n  doTransaction() {\n    console.log(\"MOVE SONG TRANSACTION\");\n    console.log(this.dragId);\n    console.log(this.dropId);\n    console.log(\"Current List Before Transaction\");\n    console.log(this.store.currentList);\n    this.store.moveSong(this.dragId, this.dropId);\n    let playlist = this.store.currentList;\n    let newList = [];\n\n    for (let i = 0; i < playlist.songs.length; i++) {\n      if (i !== this.dragId) {\n        newList.push(playlist.songs[i]);\n      }\n    }\n\n    newList.splice(this.dropId, 0, playlist.songs[this.dragId]);\n    playlist.songs = newList;\n    console.log(playlist);\n    this.store.currentList = playlist;\n    console.log(\"Current List After Transaction\");\n    console.log(this.store.currentList);\n  }\n\n  undoTransaction() {\n    console.log(\"UNDO MOVE SONG TRANSACTION\");\n  }\n\n}","map":{"version":3,"names":["jsTPS_Transaction","MoveSong_Transaction","constructor","store","dragIndex","dropIndex","dragId","dropId","doTransaction","console","log","currentList","moveSong","playlist","newList","i","songs","length","push","splice","undoTransaction"],"sources":["/Users/brendansmacbook/Documents/GitHub/Playlister_HW3/Playlister_HW3/client/src/transactions/MoveSong_Transaction.js"],"sourcesContent":["import jsTPS_Transaction from \"../common/jsTPS.js\"\n/**\n * MoveSong_Transaction\n * \n * This class represents a transaction that works with drag\n * and drop. It will be managed by the transaction stack.\n * \n */\nexport default class MoveSong_Transaction extends jsTPS_Transaction {\n    constructor(store, dragIndex, dropIndex) {\n        super();\n        this.store = store;\n        this.dragId = dragIndex;\n        this.dropId = dropIndex;\n    }\n\n    doTransaction() {\n        console.log(\"MOVE SONG TRANSACTION\");\n        console.log(this.dragId);\n        console.log(this.dropId);\n        console.log(\"Current List Before Transaction\");\n        console.log(this.store.currentList);\n        this.store.moveSong(this.dragId, this.dropId);\n\n        let playlist = this.store.currentList;\n        let newList = [];\n\n        for (let i = 0; i < playlist.songs.length; i++){\n            if(i !== this.dragId){\n                newList.push(playlist.songs[i]);\n            }\n        }\n\n        \n        newList.splice(this.dropId, 0, playlist.songs[this.dragId]);\n        playlist.songs = newList;\n        console.log(playlist);\n        this.store.currentList = playlist;\n        console.log(\"Current List After Transaction\");\n        console.log(this.store.currentList);\n\n    }\n    \n    undoTransaction() {\n        console.log(\"UNDO MOVE SONG TRANSACTION\");\n    }\n}"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,oBAA9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,oBAAN,SAAmCD,iBAAnC,CAAqD;EAChEE,WAAW,CAACC,KAAD,EAAQC,SAAR,EAAmBC,SAAnB,EAA8B;IACrC;IACA,KAAKF,KAAL,GAAaA,KAAb;IACA,KAAKG,MAAL,GAAcF,SAAd;IACA,KAAKG,MAAL,GAAcF,SAAd;EACH;;EAEDG,aAAa,GAAG;IACZC,OAAO,CAACC,GAAR,CAAY,uBAAZ;IACAD,OAAO,CAACC,GAAR,CAAY,KAAKJ,MAAjB;IACAG,OAAO,CAACC,GAAR,CAAY,KAAKH,MAAjB;IACAE,OAAO,CAACC,GAAR,CAAY,iCAAZ;IACAD,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWQ,WAAvB;IACA,KAAKR,KAAL,CAAWS,QAAX,CAAoB,KAAKN,MAAzB,EAAiC,KAAKC,MAAtC;IAEA,IAAIM,QAAQ,GAAG,KAAKV,KAAL,CAAWQ,WAA1B;IACA,IAAIG,OAAO,GAAG,EAAd;;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,KAAT,CAAeC,MAAnC,EAA2CF,CAAC,EAA5C,EAA+C;MAC3C,IAAGA,CAAC,KAAK,KAAKT,MAAd,EAAqB;QACjBQ,OAAO,CAACI,IAAR,CAAaL,QAAQ,CAACG,KAAT,CAAeD,CAAf,CAAb;MACH;IACJ;;IAGDD,OAAO,CAACK,MAAR,CAAe,KAAKZ,MAApB,EAA4B,CAA5B,EAA+BM,QAAQ,CAACG,KAAT,CAAe,KAAKV,MAApB,CAA/B;IACAO,QAAQ,CAACG,KAAT,GAAiBF,OAAjB;IACAL,OAAO,CAACC,GAAR,CAAYG,QAAZ;IACA,KAAKV,KAAL,CAAWQ,WAAX,GAAyBE,QAAzB;IACAJ,OAAO,CAACC,GAAR,CAAY,gCAAZ;IACAD,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWQ,WAAvB;EAEH;;EAEDS,eAAe,GAAG;IACdX,OAAO,CAACC,GAAR,CAAY,4BAAZ;EACH;;AArC+D"},"metadata":{},"sourceType":"module"}